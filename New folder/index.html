<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>

<div id="dataDedo">
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Email address</label>
        <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Example textarea</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
      </div>

      <div>
        <button class="btn btn-primary" onclick="submitData()">submit</button>
        <button class="btn btn-primary" onclick="json()">json data</button>
        <button class="btn btn-primary" onclick="nextpage()"> next page </button>

      </div>
</div>

<div>

    <p id="showData">here is your data</p>
    


    <br>

    <div id="showdata2"></div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

    <script>

     function submitData(){
        let data1 = document.getElementById('exampleFormControlInput1').value;
        let data2  = document.getElementById('exampleFormControlTextarea1').value;

        let output = document.getElementById('showData')
        output.innerHTML =   "<p>email:</p> "+ data1 +"<br>" + "<p> textarea: </p>"+ data2 
        
     }

    </script>

    <script>
   

//    convert in json format 

        function json() {

            let data1 = document.getElementById('exampleFormControlInput1').value;
            let data2  = document.getElementById('exampleFormControlTextarea1').value;

         const userData = {
                email : data1,
                text : data2
             };

             let jsonstring = JSON.stringify(userData);

             document.getElementById('showdata2').textContent = jsonstring

             try {
                console.log(jsonstring);
             } catch (error) {
                console.log("error in getting data")
                console.log(error)
             }

            }

       

                 function nextpage(){

                    let data1 = document.getElementById('exampleFormControlInput1').value;
                    let data2=document.getElementById('exampleFormControlTextarea1').value;


                    const userData2 = {
                        email: data1,
                        text: data2
                    };

                    let jsonstring = JSON.stringify(userData2);

              
                     try {
                              // Save the JSON in localStorage
                              localStorage.setItem("formData", jsonstring);

                              //  Redirect to second page
                               window.location.href = "show.html";

                                } catch (error) {
                                   console.log("Error in saving or redirecting");
                                       console.log(error);
                                  }
                               }
    </script>

</body>
</html>